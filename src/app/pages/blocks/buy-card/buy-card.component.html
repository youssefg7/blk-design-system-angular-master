<div class="card card-register">
    <div class="card-header">
        <img alt="Card image" class="card-img" src="assets/img/square1-red.png" />

        <h2 class="card-title">Tickets</h2>
    </div>
    <div class="card-body">
        <form [formGroup]="buyForm" (ngSubmit)="onSubmitBuy()" class="form">
            <div class="input-group" [ngClass]="{ 'input-group-focus': focus === true }">
                <p>Select Side: </p>
                <div class="form-check form-check-radio">
                    <label class="form-check-label">
                        <i class="tim-icons icon-alert-circle-exc"> </i>
                            <input
                              class="form-check-input"
                              id="firstTeam"
                              name="favTeam"
                              type="radio"
                              value="firstTeam"
                              formControlName="favTeam"
                            />
                            <span class="form-check-sign"> </span> First team
                          </label>
                </div>
                <div class="form-check form-check-radio">
                    <label class="form-check-label">
                        <i class="tim-icons icon-alert-circle-exc"> </i>
                            <input
                              class="form-check-input"
                              id="secondTeam"
                              name="favTeam"
                              type="radio"
                              value="secondTeam"
                              formControlName="favTeam"
                            />
                            <span class="form-check-sign"> </span> Second team
                          </label>
                </div>
            </div>
            <span *ngIf="favTeam && favTeam.invalid && buyAttempt==true" style="color: red;">Team is required</span>

            <p>Select Number of tickets: </p>
            <p>Ticket Price: 69 egp </p>
            <div class="input-group" [ngClass]="{ 'input-group-focus': focus1 === true }">
                <div class="input-group-prepend">
                    <div class="input-group-text">
                        <i class="tim-icons icon-pencil"> </i>
                    </div>
                </div>
                <input formControlName="numOfTickets" class="form-control" type="number" min="1" (focus)="focus1 = true" (blur)="focus1 = false" />
            </div>
            <span *ngIf="numOfTickets && numOfTickets.value>69" style="color: red;">Max available number of tickets is 69</span>

            <div class="input-group">
                <p>Select Payment Method: </p>
                <div class="form-check form-check-radio">
                    <label class="form-check-label">
                        <i class="tim-icons icon-money-coins"> </i>
                            <input
                            (change)="cardRadio()"
                              class="form-check-input"
                              id="cashRadio"
                              name="paymentRadios"
                              type="radio"
                              value="cash"
                              formControlName="paymentMethod"
                            />
                            <span class="form-check-sign"> </span> Cash Payment
                          </label>
                </div>
                <div class="form-check form-check-radio">
                    <label class="form-check-label">
                        <i class="tim-icons icon-wallet-43"> </i>
                            <input
                            (change)="cardRadio()"
                              class="form-check-input"
                              id="cardRadio"
                              name="paymentRadios"
                              type="radio"
                              value="card"
                              formControlName="paymentMethod"
                            />
                            <span class="form-check-sign"> </span> Card Payment
                          </label>
                </div>
            </div>
            <span *ngIf="paymentMethod && paymentMethod.errors?.required && buyAttempt==true" style="color: red;">Payment Method is required </span>

            <div *ngIf="cardRadioChecked">
                <p>Payment Card Information:</p>
                <div class="input-group" [ngClass]="{ 'input-group-focus': focus2 === true }">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="tim-icons icon-pencil"> </i>
                        </div>
                    </div>
                    <input formControlName="cardNumber" class="form-control" placeholder="Card Number" type="text" (focus)="focus2 = true" (blur)="focus2 = false" />
                </div>

                <div class="input-group" [ngClass]="{ 'input-group-focus': focus3 === true }">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="tim-icons icon-key-25"> </i>
                        </div>
                    </div>
                    <input formControlName="cvv" class="form-control" [maxLength]="3" [minLength]="3" placeholder="Cvv" type="text" (focus)="focus3 = true" (blur)="focus3 = false" />
                </div>

                <div class="input-group" [ngClass]="{ 'input-group-focus': focus4 === true }">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="tim-icons icon-calendar-60"> </i>
                        </div>
                    </div>
                    <input formControlName="expiryDate" class="form-control" placeholder="Expiry Date" type="date" (focus)="focus4 = true" (blur)="focus4 = false" />
                </div>
            </div>
            <div class="card-footer">
                <button class="btn btn-danger btn-round btn-lg">Confirm Purchase
                </button>
            </div>
        </form>
    </div>
</div>